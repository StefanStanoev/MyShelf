{% extends 'base.html' %}

{% block title %} List of registered books {% endblock %}

{% block content %}
    <div class="container-fluid">
        <table class="table">
            <thead>
            <tr>
                <th>NO.</th>
                <th>Title</th>
                <th>Author</th>
                <th>Publication Year</th>
                <th>Publisher</th>
                <th>Pages</th>
                <th>Genre</th>
                <th>Language</th>
                <th>Cover</th>
                <th>Category</th>
                <th>Created at</th>
                <th>Updated at</th>
                <th style="text-align: right">Modify book</th>
            </tr>
            </thead>
            <tbody>
            {% for book in all_books %}
                <tr>
                    <td>{{ forloop.counter }}.</td>
                    <td>{{ book.title }}</td>
                    <td>{{ book.author }}</td>
                    <td>{{ book.publication_year }}</td>
                    <td>{{ book.publisher }}</td>
                    <td>{{ book.pages }}</td>
                    <td>{{ book.genre }}</td>
                    <td>{{ book.language }}</td>
                    <td>{{ book.cover }}</td>
                    <td>{{ book.category }}</td>
                    <td>{{ book.created_at|date:"d/m/Y H:i" }}</td>
                    <td>{{ book.updated_at|date:"d/m/Y H:i" }}</td>
                    <td style="text-align: right">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown"
                                    aria-expanded="false">
                                more actions
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="{% url 'update-book' book.id %}">Update</a>
                                </li>
                                <li><a class="dropdown-item" href="{% url 'delete-book' book.id %}">Delete</a>
                                </li>
                                <li><a class="dropdown-item" href="{% url 'details-book' book.id %}">Details</a>
                                </li>
                            </ul>
                        </div>
                    </td>

                </tr>
            {% endfor %}
            <tr>
                <td colspan="13" style="text-align:right">
                <strong>Number of books:</strong>
                {{ number_of_books }} {% if number_of_books == 1 %} book {% else %} books {% endif %}</td>
            </tr>
            </tbody>
        </table>
    </div>
{% endblock %}